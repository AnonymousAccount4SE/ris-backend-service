import{d as B,i as y,M as $,A as Y,P as G,a3 as le,a as w,c as D,X,k as I,x as k,V as Z,a2 as ue,a8 as Fe,H as ae,f as V,F as J,r as ne,t as Q,g as te,z as De,a9 as $e,b as oe,$ as Re,a0 as Pe,aa as Ve,h as Me,w as se,a7 as Ue,ab as Ne,ac as Be,l as de,O as ge,ad as ze,L as He,U as qe,N as Ze}from"./index-f3f720fc.js";import{d as T,c as je}from"./dayjs.min-633259b2.js";import{F as We}from"./FileInput-555a5d8c.js";import{I as q}from"./types-7b85aa56.js";const Xe=["id","aria-label","onKeydown"],Ge=B({__name:"DateInput",props:{id:null,value:null,modelValue:null,ariaLabel:null,isFutureDate:{type:Boolean},validationError:null},emits:["update:modelValue","update:validationError"],setup(n,{emit:a}){const e=n,t=y();$(e,()=>{t.value=e.modelValue&&T(e.modelValue).format("YYYY-MM-DD")},{immediate:!0});const l=Y(()=>t.value&&t.value!==""?new Date(t.value)<new Date:!0),o=Y(()=>e.validationError||!l.value&&!e.isFutureDate||t.value=="");$(t,()=>{o.value?t.value==""&&a("update:validationError",{defaultMessage:"Kein valides Datum",field:e.id}):(t.value&&!t.value.startsWith("0")&&a("update:modelValue",T(t.value).toISOString()),a("update:validationError",void 0))},{immediate:!0}),$(l,()=>{o.value?!l.value&&!e.isFutureDate&&a("update:validationError",{defaultMessage:"Das "+e.ariaLabel+" darf nicht in der Zukunft liegen",field:e.id}):a("update:validationError",void 0)},{immediate:!0});const s=Y(()=>({input__error:e.validationError||o.value}));function i(){a("update:validationError",void 0),a("update:modelValue",void 0),t.value=void 0}return(d,r)=>G((w(),D("input",{id:n.id,"onUpdate:modelValue":r[0]||(r[0]=f=>t.value=f),"aria-label":n.ariaLabel,class:X(["bg-white border-2 border-blue-800 focus:outline-2 h-[3.75rem] hover:outline-2 input outline-0 outline-blue-800 outline-none outline-offset-[-4px] px-16 uppercase w-full",I(s)]),type:"date",onKeydown:k(i,["delete"])},null,42,Xe)),[[le,t.value]])}});const Je=Z(Ge,[["__scopeId","data-v-b27b0729"]]),Qe=["id","aria-label","onKeydown"],et=B({__name:"CheckboxInput",props:{id:null,value:{type:[Boolean,null],default:void 0},modelValue:{type:[Boolean,null],default:void 0},ariaLabel:null,validationError:{default:void 0}},emits:["update:modelValue","input"],setup(n,{emit:a}){const e=n,{inputValue:t,emitInputEvent:l}=ue(e,a);function o(){t.value===void 0?t.value=!0:t.value=!t.value}const s=Y(()=>e.validationError!==void 0);return(i,d)=>G((w(),D("input",{id:n.id,"onUpdate:modelValue":d[0]||(d[0]=r=>ae(t)?t.value=r:null),"aria-label":n.ariaLabel,class:X(["appearance-none border-2 border-blue-800 disabled:border-gray-600 disabled:focus:outline-0 disabled:hover:outline-0 focus:outline-2 h-40 hover:outline-2 outline-0 outline-blue-800 outline-none outline-offset-[-4px] w-40",{"border-red-800":I(s),"outline-red-800":I(s)}]),type:"checkbox",onInput:d[1]||(d[1]=(...r)=>I(l)&&I(l)(...r)),onKeydown:k(o,["enter"])},null,42,Qe)),[[Fe,I(t)]])}});const tt=Z(et,[["__scopeId","data-v-ecb7b8d3"]]),at=["onClick","onFocus","onKeypress","onKeyup"],nt={class:"label-wrapper whitespace-pre-wrap"},lt={class:"icon-wrapper"},ot=["onClick","onKeydown"],st=B({__name:"ChipsList",props:{modelValue:null,error:null},emits:["update:modelValue","previousClickedOnFirst","nextClickedOnLast","deleteChip","input"],setup(n,{expose:a,emit:e}){const t=n,{emitInputEvent:l}=ue(t,e),o=y(t.modelValue??[]),s=y(),i=y(),d=y();function r(){e("update:modelValue",o.value)}function f(u){e("deleteChip",o.value[u]),o.value.splice(u,1),r(),h()}function h(){i.value=void 0}function _(){i.value!==void 0&&(e("deleteChip",o.value[i.value]),o.value.splice(i.value,1),i.value===o.value.length&&M()),r()}const b=()=>{i.value=0},M=()=>{if(i.value===0){e("previousClickedOnFirst");return}i.value=i.value===void 0?o.value.length-1:i.value-1},p=()=>{if(i.value!==void 0){if(i.value==o.value.length-1){e("nextClickedOnLast");return}i.value=i.value===void 0?0:i.value+1}},m=u=>{i.value=u};return $(t,()=>{t.modelValue&&(o.value=t.modelValue),s.value=t.error}),$(i,()=>{var u;if(i.value!==void 0){const c=(u=d.value)==null?void 0:u.children[i.value];c&&c.focus()}}),a({focusPrevious:M,focusNext:p,resetFocus:h,focusFirst:b}),(u,c)=>(w(),D("div",null,[V("div",{ref_key:"containerRef",ref:d,class:"flex flex-row flex-wrap items-center",tabindex:"-1"},[(w(!0),D(J,null,ne(o.value,(x,g)=>(w(),D("div",{key:g,"aria-label":"chip",class:"bg-blue-500 body-01-reg chip",tabindex:"0",onClick:L=>m(g),onFocus:L=>m(g),onInput:c[0]||(c[0]=(...L)=>I(l)&&I(l)(...L)),onKeypress:k(_,["enter"]),onKeyup:[k(M,["left"]),k(p,["right"])]},[V("div",nt,Q(x),1),V("div",lt,[V("em",{"aria-Label":"Löschen",class:"material-icons",onClick:L=>f(g),onKeydown:k(L=>f(g),["enter"])},"clear",40,ot)])],40,at))),128))],512)]))}});const it=Z(st,[["__scopeId","data-v-ee3c83e7"]]),ut={class:"input"},rt=["id","aria-label","onKeypress","onKeyup"],dt=B({__name:"ChipsInput",props:{id:null,value:null,modelValue:null,ariaLabel:null,placeholder:null,validationError:null},emits:["update:modelValue","input"],setup(n,{emit:a}){const e=n,{emitInputEvent:t}=ue(e,a),l=y(e.modelValue??[]),o=y(""),s=y(),i=y();function d(){a("update:modelValue",l.value.length===0?void 0:l.value)}function r(_){const b=o.value.trim();b.length>0&&(_.stopPropagation(),l.value.push(b),d(),o.value="")}const f=()=>{s.value!==void 0&&o.value===""&&s.value.focusPrevious()},h=()=>{s.value!==void 0&&s.value.resetFocus(),i.value!==void 0&&i.value.focus()};return $(e,()=>{e.modelValue&&(l.value=e.modelValue)}),$(l,()=>{l.value===void 0&&h()}),(_,b)=>(w(),D("div",ut,[te(it,{ref_key:"chipsList",ref:s,modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=M=>l.value=M),onNextClickedOnLast:h},null,8,["modelValue"]),G(V("input",{id:n.id,ref_key:"chipsInput",ref:i,"onUpdate:modelValue":b[1]||(b[1]=M=>o.value=M),"aria-label":n.ariaLabel,type:"text",onInput:b[2]||(b[2]=(...M)=>I(t)&&I(t)(...M)),onKeypress:k(r,["enter"]),onKeyup:k(f,["left"])},null,40,rt),[[le,o.value]])]))}});const ct=Z(dt,[["__scopeId","data-v-a29e340e"]]),pt=n=>(Re("data-v-e597875f"),n=n(),Pe(),n),vt=["onKeydown"],ft=["onKeydown"],mt={class:"bg-white input-container"},ht=["id","aria-label","placeholder","onKeyup"],_t=pt(()=>V("span",{"aria-label":"Auswahl zurücksetzen",class:"icon material-icons pr-[1.5rem] text-blue-800"}," close ",-1)),bt=[_t],yt=["aria-label"],wt={key:0,class:"icon material-icons text-blue-800"},gt={key:1,class:"icon material-icons"},kt=["onClick","onKeydown","onKeypress","onKeyup"],xt=B({__name:"ComboboxInput",props:{id:null,itemService:null,value:null,modelValue:null,ariaLabel:null,placeholder:null,clearOnChoosingItem:{type:Boolean}},emits:["update:modelValue","input"],setup(n,{emit:a}){const e=n,t="Kein passender Eintrag",l=y(),o=y(),s=y(),i=y(),d=y(!1),r=y(),f=y(),h=y(),_=y(),b=y(0),M=Y(()=>d.value?"Dropdown schließen":"Dropdown öffnen"),p=()=>typeof o.value=="object"&&"label"in o.value?o.value.label:o.value;$(e,()=>{o.value=e.modelValue??e.value,u()},{immediate:!0}),$(o,()=>{a("update:modelValue",o.value),u()});function m(v){return typeof v=="object"&&"location"in v&&"type"in v}function u(){s.value=p()}const c=async()=>{var v;d.value=!d.value,b.value=0,d.value&&(s.value&&(r.value=s.value),await E(),(v=_.value)==null||v.focus())},x=async()=>{var v;a("update:modelValue",void 0),r.value="",s.value="",b.value=0,d.value&&await E(),(v=_.value)==null||v.focus()},g=v=>{v.label!==t&&(d.value=!1,a("update:modelValue",v.value),e.clearOnChoosingItem?(r.value="",s.value=""):r.value=v.label,l.value=void 0)},L=async()=>{if(l.value){g(l.value);return}u(),await c()},F=()=>{b.value>1&&(b.value-=1),R()},K=()=>{i.value&&b.value<i.value.length&&(b.value+=1),R()},R=()=>{var P;l.value=void 0;const v=(P=h.value)==null?void 0:P.childNodes[b.value];v&&v.innerText!==t&&v.focus()},z=async()=>{b.value=0,d.value=!0,r.value=s.value,await E()},E=async()=>{const v=await e.itemService(r.value);if(!v.data){console.error(v.error);return}i.value=v.data,!i.value||i.value.length===0?(i.value=[{label:t,value:""}],l.value=void 0):(l.value=i.value[0],b.value=1)},C=v=>{const P=f.value;!P||v.target===P||v.composedPath().includes(P)||S()},A=()=>{var v;(v=_.value)==null||v.select()},S=()=>{d.value=!1,u(),r.value=s.value},O=v=>!!(m(v.value)&&v.value.revoked);function H(v){return typeof v=="object"&&"text"in v}const ee=v=>O(v)||H(v.value),W=v=>v.value.revoked,j=v=>O(v)?W(v):H(v.value)?v.value.text:null,N=v=>O(v)?"dropdown-container__dropdown-item__additional-info-chip":H(v.value)?"dropdown-container__dropdown-item__additional-info-newline":"";return De(()=>{window.addEventListener("click",C)}),$e(()=>{window.removeEventListener("click",C)}),(v,P)=>(w(),D("div",{ref_key:"dropdownContainerRef",ref:f,class:"dropdown-container",onKeydown:k(S,["esc"])},[V("div",{class:"dropdown-container__open-dropdown",onKeydown:[k(L,["enter"]),k(S,["tab"])]},[V("div",mt,[G(V("input",{id:n.id,ref_key:"inputFieldRef",ref:_,"onUpdate:modelValue":P[0]||(P[0]=U=>s.value=U),"aria-label":n.ariaLabel,autocomplete:"off",class:"text-input",placeholder:n.placeholder,readonly:!1,tabindex:"0",onClick:A,onInput:z,onKeyup:k(K,["down"])},null,40,ht),[[le,s.value]]),s.value?(w(),D("button",{key:0,class:"input-close-icon",tabindex:"-1",onClick:x},bt)):oe("",!0),V("button",{"aria-label":I(M),class:"input-expand-icon",tabindex:"-1",onClick:c},[d.value?(w(),D("span",gt," expand_less ")):(w(),D("span",wt," expand_more "))],8,yt)])],40,ft),d.value?(w(),D("div",{key:0,ref_key:"dropdownItemsRef",ref:h,class:"dropdown-container__dropdown-items",tabindex:"-1"},[(w(!0),D(J,null,ne(i.value,(U,ce)=>(w(),D("div",{key:ce,"aria-label":"dropdown-option",class:X(["dropdown-container__dropdown-item",{"dropdown-container__dropdown-item__with-additional-info":O(U),"dropdown-container__dropdown-item__candidate-for-selection":l.value===U,"dropdown-container__dropdown-item__currently-selected":p()===U.label,"dropdown-container__dropdown-item__no-matching-entry":U.label===t}]),tabindex:"0",onClick:pe=>g(U),onKeydown:k(S,["tab"]),onKeypress:k(pe=>g(U),["enter"]),onKeyup:[k(K,["down"]),k(F,["up"])]},[V("span",null,[V("span",null,Q(U.label),1),ee(U)?(w(),D("div",{key:0,"aria-label":"additional-dropdown-info",class:X(["body-02-reg",N(U)])},Q(j(U)),3)):oe("",!0)])],42,kt))),128))],512)):oe("",!0)],40,vt))}});const Et=Z(xt,[["__scopeId","data-v-e597875f"]]);var ke={},Dt={get exports(){return ke},set exports(n){ke=n}};(function(n,a){(function(e,t){n.exports=t()})(je,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,i={},d=function(p){return(p=+p)+(p>68?1900:2e3)},r=function(p){return function(m){this[p]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var u=m.match(/([+-]|\d\d)/g),c=60*u[1]+(+u[2]||0);return c===0?0:u[0]==="+"?-c:c}(p)}],h=function(p){var m=i[p];return m&&(m.indexOf?m:m.s.concat(m.f))},_=function(p,m){var u,c=i.meridiem;if(c){for(var x=1;x<=24;x+=1)if(p.indexOf(c(x,0,m))>-1){u=x>12;break}}else u=p===(m?"pm":"PM");return u},b={A:[s,function(p){this.afternoon=_(p,!1)}],a:[s,function(p){this.afternoon=_(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[l,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[o,r("seconds")],ss:[o,r("seconds")],m:[o,r("minutes")],mm:[o,r("minutes")],H:[o,r("hours")],h:[o,r("hours")],HH:[o,r("hours")],hh:[o,r("hours")],D:[o,r("day")],DD:[l,r("day")],Do:[s,function(p){var m=i.ordinal,u=p.match(/\d+/);if(this.day=u[0],m)for(var c=1;c<=31;c+=1)m(c).replace(/\[|\]/g,"")===p&&(this.day=c)}],M:[o,r("month")],MM:[l,r("month")],MMM:[s,function(p){var m=h("months"),u=(h("monthsShort")||m.map(function(c){return c.slice(0,3)})).indexOf(p)+1;if(u<1)throw new Error;this.month=u%12||u}],MMMM:[s,function(p){var m=h("months").indexOf(p)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,r("year")],YY:[l,function(p){this.year=d(p)}],YYYY:[/\d{4}/,r("year")],Z:f,ZZ:f};function M(p){var m,u;m=p,u=i&&i.formats;for(var c=(p=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(z,E,C){var A=C&&C.toUpperCase();return E||u[C]||e[C]||u[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,O,H){return O||H.slice(1)})})).match(t),x=c.length,g=0;g<x;g+=1){var L=c[g],F=b[L],K=F&&F[0],R=F&&F[1];c[g]=R?{regex:K,parser:R}:L.replace(/^\[|\]$/g,"")}return function(z){for(var E={},C=0,A=0;C<x;C+=1){var S=c[C];if(typeof S=="string")A+=S.length;else{var O=S.regex,H=S.parser,ee=z.slice(A),W=O.exec(ee)[0];H.call(E,W),z=z.replace(W,"")}}return function(j){var N=j.afternoon;if(N!==void 0){var v=j.hours;N?v<12&&(j.hours+=12):v===12&&(j.hours=0),delete j.afternoon}}(E),E}}return function(p,m,u){u.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(d=p.parseTwoDigitYear);var c=m.prototype,x=c.parse;c.parse=function(g){var L=g.date,F=g.utc,K=g.args;this.$u=F;var R=K[1];if(typeof R=="string"){var z=K[2]===!0,E=K[3]===!0,C=z||E,A=K[2];E&&(A=K[2]),i=this.$locale(),!z&&A&&(i=u.Ls[A]),this.$d=function(ee,W,j){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*ee);var N=M(W)(ee),v=N.year,P=N.month,U=N.day,ce=N.hours,pe=N.minutes,Oe=N.seconds,Te=N.milliseconds,Ie=N.zone,ve=new Date,fe=U||(v||P?1:ve.getDate()),me=v||ve.getFullYear(),re=0;v&&!P||(re=P>0?P-1:ve.getMonth());var he=ce||0,_e=pe||0,be=Oe||0,ye=Te||0;return Ie?new Date(Date.UTC(me,re,fe,he,_e,be,ye+60*Ie.offset*1e3)):j?new Date(Date.UTC(me,re,fe,he,_e,be,ye)):new Date(me,re,fe,he,_e,be,ye)}catch{return new Date("")}}(L,R,F),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),C&&L!=this.format(R)&&(this.$d=new Date("")),i={}}else if(R instanceof Array)for(var S=R.length,O=1;O<=S;O+=1){K[1]=R[O-1];var H=u.apply(this,K);if(H.isValid()){this.$d=H.$d,this.$L=H.$L,this.init();break}O===S&&(this.$d=new Date(""))}else x.call(this,g)}}})})(Dt);const Ke=ke;/*! maska v2.1.9 | (c) Alexander Shabunevich | Released under the MIT license */var Vt=Object.defineProperty,It=(n,a,e)=>a in n?Vt(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,ie=(n,a,e)=>(It(n,typeof a!="symbol"?a+"":a,e),e);const Ce={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class Ye{constructor(a={}){ie(this,"opts",{}),ie(this,"memo",new Map);const e={...a};if(e.tokens!=null){e.tokens=e.tokensReplace?{...e.tokens}:{...Ce,...e.tokens};for(const t of Object.values(e.tokens))typeof t.pattern=="string"&&(t.pattern=new RegExp(t.pattern))}else e.tokens=Ce;Array.isArray(e.mask)&&(e.mask.length>1?e.mask=[...e.mask].sort((t,l)=>t.length-l.length):e.mask=e.mask[0]??""),e.mask===""&&(e.mask=null),this.opts=e}masked(a){return this.process(a,this.findMask(a))}unmasked(a){return this.process(a,this.findMask(a),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(a){const e=this.findMask(a);if(this.opts.mask==null||e==null)return!1;const t=this.process(a,e).length;return typeof this.opts.mask=="string"?t>=this.opts.mask.length:typeof this.opts.mask=="function"?t>=e.length:this.opts.mask.filter(l=>t>=l.length).length===this.opts.mask.length}findMask(a){const e=this.opts.mask;if(e==null)return null;if(typeof e=="string")return e;if(typeof e=="function")return e(a);const t=this.process(a,e.slice(-1).pop()??"",!1);return e.find(l=>this.process(a,l,!1).length>=t.length)??""}escapeMask(a){const e=[],t=[];return a.split("").forEach((l,o)=>{l==="!"&&a[o-1]!=="!"?t.push(o-t.length):e.push(l)}),{mask:e.join(""),escaped:t}}process(a,e,t=!0){var l;if(e==null)return a;const o=`value=${a},mask=${e},masked=${t?1:0}`;if(this.memo.has(o))return this.memo.get(o);const{mask:s,escaped:i}=this.escapeMask(e),d=[],r=this.opts.tokens!=null?this.opts.tokens:{},f=this.isReversed()?-1:1,h=this.isReversed()?"unshift":"push",_=this.isReversed()?0:s.length-1,b=this.isReversed()?()=>u>-1&&c>-1:()=>u<s.length&&c<a.length,M=x=>!this.isReversed()&&x<=_||this.isReversed()&&x>=_;let p,m=-1,u=this.isReversed()?s.length-1:0,c=this.isReversed()?a.length-1:0;for(;b();){const x=s.charAt(u),g=r[x],L=(g==null?void 0:g.transform)!=null?g.transform(a.charAt(c)):a.charAt(c);if(!i.includes(u)&&g!=null){if(L.match(g.pattern)!=null)d[h](L),g.repeated?(m===-1?m=u:u===_&&u!==m&&(u=m-f),_===m&&(u-=f)):g.multiple&&(u-=f),u+=f;else if(g.multiple){const F=((l=d[c-f])==null?void 0:l.match(g.pattern))!=null,K=s.charAt(u+f);F&&K!==""&&r[K]==null?(u+=f,c-=f):d[h]("")}else L===p?p=void 0:g.optional&&(u+=f,c-=f);c+=f}else t&&!this.isEager()&&d[h](x),L===x&&!this.isEager()?c+=f:p=x,this.isEager()||(u+=f);if(this.isEager())for(;M(u)&&(r[s.charAt(u)]==null||i.includes(u));)t?d[h](s.charAt(u)):s.charAt(u)===a.charAt(c)&&(c+=f),u+=f}return this.memo.set(o,d.join("")),this.memo.get(o)}}const Se=n=>JSON.parse(n.replaceAll("'",'"')),Le=(n,a={})=>{const e={...a};return n.dataset.maska!=null&&n.dataset.maska!==""&&(e.mask=Mt(n.dataset.maska)),n.dataset.maskaEager!=null&&(e.eager=we(n.dataset.maskaEager)),n.dataset.maskaReversed!=null&&(e.reversed=we(n.dataset.maskaReversed)),n.dataset.maskaTokensReplace!=null&&(e.tokensReplace=we(n.dataset.maskaTokensReplace)),n.dataset.maskaTokens!=null&&(e.tokens=Ct(n.dataset.maskaTokens)),e},we=n=>n!==""?!!JSON.parse(n):!0,Mt=n=>n.startsWith("[")&&n.endsWith("]")?Se(n):n,Ct=n=>{if(n.startsWith("{")&&n.endsWith("}"))return Se(n);const a={};return n.split("|").forEach(e=>{const t=e.split(":");a[t[0]]={pattern:new RegExp(t[1]),optional:t[2]==="optional",multiple:t[2]==="multiple",repeated:t[2]==="repeated"}}),a};class Yt{constructor(a,e={}){ie(this,"items",new Map),ie(this,"beforeinputEvent",t=>{const l=t.target,o=this.items.get(l);o.isEager()&&"inputType"in t&&t.inputType.startsWith("delete")&&o.unmasked(l.value).length<=1&&this.setMaskedValue(l,"")}),ie(this,"inputEvent",t=>{if(t instanceof CustomEvent&&t.type==="input"&&t.detail!=null&&typeof t.detail=="object"&&"masked"in t.detail)return;const l=t.target,o=this.items.get(l),s=l.value,i=l.selectionStart,d=l.selectionEnd;let r=s;if(o.isEager()){const f=o.masked(s),h=o.unmasked(s);h===""&&"data"in t&&t.data!=null?r=t.data:h!==o.unmasked(f)&&(r=h)}if(this.setMaskedValue(l,r),"inputType"in t&&(t.inputType.startsWith("delete")||i!=null&&i<s.length))try{l.setSelectionRange(i,d)}catch{}}),this.options=e,typeof a=="string"?this.init(Array.from(document.querySelectorAll(a)),this.getMaskOpts(e)):this.init("length"in a?Array.from(a):[a],this.getMaskOpts(e))}destroy(){for(const a of this.items.keys())a.removeEventListener("input",this.inputEvent),a.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(a,e){const t=this.items.get(a),l=new Ye(Le(a,this.getMaskOpts(e)));return JSON.stringify(t.opts)!==JSON.stringify(l.opts)}needUpdateValue(a){const e=a.dataset.maskaValue;return e==null&&a.value!==""||e!=null&&e!==a.value}getMaskOpts(a){const{onMaska:e,preProcess:t,postProcess:l,...o}=a;return o}init(a,e){for(const t of a){const l=new Ye(Le(t,e));this.items.set(t,l),t.value!==""&&this.setMaskedValue(t,t.value),t.addEventListener("input",this.inputEvent),t.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(a,e){const t=this.items.get(a);this.options.preProcess!=null&&(e=this.options.preProcess(e));const l=t.masked(e),o=t.unmasked(t.isEager()?l:e),s=t.completed(e),i={masked:l,unmasked:o,completed:s};e=l,this.options.postProcess!=null&&(e=this.options.postProcess(e)),a.value=e,a.dataset.maskaValue=e,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(d=>d(i)):this.options.onMaska(i)),a.dispatchEvent(new CustomEvent("maska",{detail:i})),a.dispatchEvent(new CustomEvent("input",{detail:i}))}}const xe=new WeakMap,Lt=n=>{setTimeout(()=>{var a;((a=xe.get(n))==null?void 0:a.needUpdateValue(n))===!0&&n.dispatchEvent(new CustomEvent("input"))})},Ae=(n,a)=>{const e=n instanceof HTMLInputElement?n:n.querySelector("input"),t={...a.arg};if(e==null)return;Lt(e);const l=xe.get(e);if(l!=null){if(!l.needUpdateOptions(e,t))return;l.destroy()}if(a.value!=null){const o=a.value,s=i=>{o.masked=i.masked,o.unmasked=i.unmasked,o.completed=i.completed};t.onMaska=t.onMaska==null?s:Array.isArray(t.onMaska)?[...t.onMaska,s]:[t.onMaska,s]}xe.set(e,new Yt(e,t))},$t=["onClick","onKeydown","onKeypress","onKeyup"],Kt={class:"label-wrapper"},St={class:"icon-wrapper"},At=["onClick","onKeydown"],Ot=["id","aria-label","onKeydown","onKeypress","onKeyup"],Tt=B({__name:"ChipsDateInput",props:{id:null,value:null,modelValue:null,ariaLabel:null,placeholder:null,isFutureDate:{type:Boolean},validationError:null},emits:["update:modelValue","update:validationError","input"],setup(n,{emit:a}){const e=n,t=y(e.modelValue??[]),l=y(),o=y(),s=y(),i=y();$(e,()=>t.value=e.modelValue?e.modelValue.map(E=>T(E).format("DD.MM.YYYY")):[],{immediate:!0});function d(){a("update:modelValue",t.value.length===0?void 0:t.value.map(E=>T(E,"DD.MM.YYYY",!0).toISOString()))}function r(){!L.value&&l.value&&l.value.length>0&&(t.value.push(l.value),d(),l.value=void 0,h())}function f(E){t.value.splice(E,1),d(),h()}function h(){var E,C;(E=o.value)==null||E.blur(),s.value=void 0,(C=o.value)==null||C.focus()}function _(){l.value===void 0?(t.value.splice(t.value.length-1),d(),h()):l.value=void 0}function b(){s.value!==void 0&&(l.value=void 0,t.value.splice(s.value,1),s.value===t.value.length&&M(),s.value===0&&h()),d()}const M=()=>{var C;if(l.value&&l.value.length>0||s.value===0)return;s.value=s.value===void 0?t.value.length-1:s.value-1;const E=(C=i.value)==null?void 0:C.children[s.value];E&&E.focus()},p=()=>{var C;if(l.value&&l.value.length>0||s.value===void 0)return;if(s.value==t.value.length-1){h();return}s.value=s.value===void 0?0:s.value+1;const E=(C=i.value)==null?void 0:C.children[s.value];E&&E.focus()},m=E=>{s.value=E},u=y(!1);T.extend(Ke);const c=Y(()=>T(l.value,"DD.MM.YYYY",!0).isValid()),x=Y(()=>e.isFutureDate?!0:T(l.value,"DD.MM.YYYY",!0).isBefore(T())),g=E=>{u.value=E.detail.completed},L=Y(()=>e.validationError||u.value&&!x.value&&!e.isFutureDate||u.value&&!c.value),F=Y(()=>({input__error:e.validationError||L.value}));function K(){u.value?c.value?!x.value&&!e.isFutureDate&&c.value?a("update:validationError",{defaultMessage:"Das "+e.ariaLabel+" darf nicht in der Zukunft liegen",field:e.id}):a("update:validationError",void 0):a("update:validationError",{defaultMessage:"Kein valides Datum",field:e.id}):a("update:validationError",void 0)}function R(){a("update:validationError",void 0),l.value=void 0}function z(){K()}return $(u,()=>{K()}),(E,C)=>(w(),D("div",{class:X(["bg-white input",I(F)])},[V("div",{ref_key:"containerRef",ref:i,class:"flex flex-row flex-wrap",tabindex:"-1"},[(w(!0),D(J,null,ne(t.value,(A,S)=>(w(),D("div",{key:S,"aria-label":"chip",class:"bg-blue-500 body-01-reg chip",tabindex:"0",onClick:O=>m(S),onKeydown:k(_,["delete"]),onKeypress:k(b,["enter"]),onKeyup:[k(M,["left"]),k(p,["right"])]},[V("div",Kt,Q(A),1),V("div",St,[V("em",{"aria-Label":"Löschen",class:"material-icons",onClick:O=>f(S),onKeydown:k(O=>f(S),["enter"])},"clear",40,At)])],40,$t))),128))],512),G(V("input",{id:n.id,ref_key:"currentInputField",ref:o,"onUpdate:modelValue":C[0]||(C[0]=A=>l.value=A),"aria-label":n.ariaLabel,class:X(I(F)),"data-maska":"##.##.####",placeholder:"DD.MM.YYYY",onBlur:z,onKeydown:k(R,["delete"]),onKeypress:k(r,["enter"]),onKeyup:[k(M,["left"]),k(p,["right"])],onMaska:g},null,42,Ot),[[le,l.value],[I(Ae)]])],2))}});const Ft=Z(Tt,[["__scopeId","data-v-ebc2f5c6"]]),Rt=["id","aria-label","onKeydown"],Pt=B({__name:"CustomDateInput",props:{id:null,value:null,modelValue:null,ariaLabel:null,isFutureDate:{type:Boolean},validationError:null},emits:["update:modelValue","update:validationError"],setup(n,{emit:a}){const e=n,t=y(!1),l=y(e.modelValue?T(e.modelValue).format("DD.MM.YYYY"):void 0);T.extend(Ke);const o=Y(()=>T(l.value,"DD.MM.YYYY",!0).isValid()),s=Y(()=>e.isFutureDate?!0:T(l.value,"DD.MM.YYYY",!0).isBefore(T())),i=b=>{t.value=b.detail.completed},d=Y(()=>e.validationError||t.value&&!s.value&&!e.isFutureDate||t.value&&!o.value),r=Y(()=>({input__error:e.validationError||d.value}));function f(){t.value?o.value?!s.value&&!e.isFutureDate&&o.value?a("update:validationError",{defaultMessage:"Das "+e.ariaLabel+" darf nicht in der Zukunft liegen",field:e.id}):a("update:validationError",void 0):a("update:validationError",{defaultMessage:"Kein valides Datum",field:e.id}):a("update:validationError",void 0)}function h(){a("update:validationError",void 0),a("update:modelValue",void 0),l.value=void 0}function _(){f()}return $(e,()=>{l.value=e.modelValue?T(e.modelValue).format("DD.MM.YYYY"):void 0}),$(l,()=>{o.value&&s.value&&a("update:modelValue",T(l.value,"DD.MM.YYYY").toISOString())}),$(t,()=>{f()}),(b,M)=>G((w(),D("input",{id:n.id,"onUpdate:modelValue":M[0]||(M[0]=p=>l.value=p),"aria-label":n.ariaLabel,class:X(["bg-white border-2 border-blue-800 focus:outline-2 h-[3.75rem] hover:outline-2 input outline-0 outline-blue-800 outline-none outline-offset-[-4px] px-16 uppercase w-full",I(r)]),"data-maska":"##.##.####",placeholder:"DD.MM.YYYY",onBlur:_,onKeydown:k(h,["delete"]),onMaska:i},null,42,Rt)),[[le,l.value],[I(Ae)]])}});const Ut=Z(Pt,[["__scopeId","data-v-32b371fd"]]),Nt=["onKeydown"],Bt=["onKeydown"],zt=["id","aria-label","placeholder","onKeyup"],Ht=["aria-labelledby","onKeydown"],qt={key:0,class:"icon material-icons"},Zt=["id"],jt={key:1,class:"icon material-icons"},Wt=["id"],Xt=["onClick","onKeypress","onKeyup"],Gt=B({__name:"DropdownInput",props:{id:null,items:null,modelValue:null,value:null,ariaLabel:null,placeholder:null,hasSmallerHeight:{type:Boolean}},emits:["update:modelValue","input"],setup(n,{emit:a}){const e=n,{inputValue:t}=ue(e,a),l=Y(()=>r(t.value)),o=y(!1),s=y(),i=y(),d=y(0);function r(u){var c;return(c=e.items.find(x=>x.value===u))==null?void 0:c.label}function f(){o.value=!o.value,d.value=0}function h(u){p(),t.value=u}function _(){var c;d.value-=1;const u=(c=i.value)==null?void 0:c.childNodes[d.value];u&&u.focus()}function b(){var c;d.value+=1;const u=(c=i.value)==null?void 0:c.childNodes[d.value];u&&u.focus()}function M(u){const c=s.value;!c||u.target===c||u.composedPath().includes(c)||p()}function p(){o.value=!1}De(()=>{window.addEventListener("click",M)}),$e(()=>{window.removeEventListener("click",M)});const m=Y(()=>e.hasSmallerHeight?{padding:"9px 16px"}:{padding:"12px 16px"});return(u,c)=>(w(),D("div",{ref_key:"dropdownContainerRef",ref:s,class:"dropdown-container relative w-full",onKeydown:k(p,["esc"])},[V("div",{class:"cursor-pointer dropdown-container__open-dropdown",onClick:f,onKeydown:k(f,["enter"])},[V("div",{class:"bg-white input-container",style:Ve(I(m))},[G(V("input",{id:n.id,"onUpdate:modelValue":c[0]||(c[0]=x=>ae(l)?l.value=x:null),"aria-label":n.ariaLabel,autocomplete:"off",class:"cursor-pointer outline-none w-full",placeholder:n.placeholder,readonly:!0,tabindex:"0",onKeyup:k(b,["down"])},null,40,zt),[[le,I(l)]]),V("button",{"aria-labelledby":"labelDropdownIcon"+n.id,class:"focus:outline-2 input-expand-icon mt-4 outline-0 outline-blue-800 outline-none",tabindex:"0",onKeydown:k(f,["enter"])},[o.value?(w(),D("span",jt,[Me(" expand_less "),V("span",{id:"labelDropdownIcon"+n.id,class:"block h-[1px] overflow-hidden w-[1px]"},"Dropdown schließen",8,Wt)])):(w(),D("span",qt,[Me(" expand_more "),V("span",{id:"labelDropdownIcon"+n.id,class:"block h-[1px] overflow-hidden w-[1px]"},"Dropdown öffnen",8,Zt)]))],40,Ht)],4)],40,Bt),o.value?(w(),D("div",{key:0,ref_key:"dropdownItemsRef",ref:i,class:"dropdown-container__dropdown-items",tabindex:"-1"},[(w(!0),D(J,null,ne(n.items,(x,g)=>(w(),D("div",{key:g,"aria-label":"dropdown-option",class:"dropdown-container__dropdown-item",tabindex:"0",onClick:L=>h(x.value),onKeypress:k(L=>h(x.value),["enter"]),onKeyup:[k(b,["down"]),k(_,["up"])]},[V("span",null,Q(x.label),1)],40,Xt))),128))],512)):oe("",!0)],40,Nt))}});const Jt=Z(Gt,[["__scopeId","data-v-a32a108a"]]),Qt={class:"expandable-content"},ea=["aria-label"],ta=B({__name:"SubField",props:{ariaLabel:null,isExpanded:{type:Boolean,default:!1},iconExpanding:{default:"add"},iconClosing:{default:"horizontal_rule"}},emits:["update:isExpanded"],setup(n,{emit:a}){const e=n,t=y(),l=y(0),o=y(!1),s=Y(()=>o.value?e.iconClosing:e.iconExpanding);function i(){o.value=!o.value}$(()=>e.isExpanded,()=>o.value=e.isExpanded??!1,{immediate:!0}),$(o,()=>a("update:isExpanded",o.value)),De(()=>{const r=document.querySelector(".expandable");r!=null&&d.observe(r)});const d=new ResizeObserver(r=>{for(const f of r)l.value=f.contentRect.width});return(r,f)=>(w(),D("div",Qt,[V("button",{class:"-mt-[4.5rem] expandable-content__header h-[1.25rem] text-white",onClick:i},[V("span",{"aria-label":o.value?n.ariaLabel+" schließen":n.ariaLabel+" anzeigen",class:"bg-blue-800 material-icons rounded-full w-icon"},Q(I(s)),9,ea)]),te(Be,{ref_key:"expandableContainer",ref:t,class:X(["expandable",{expanded:o.value}]),name:"expand",style:Ve({height:l.value.valueOf+"px"})},{default:se(()=>[G(V("div",null,[Ue(r.$slots,"default",{},void 0,!0)],512),[[Ne,o.value]])]),_:3},8,["class","style"])]))}});const aa=Z(ta,[["__scopeId","data-v-22f73983"]]),na={class:"mt-[3.5rem]"},la=B({__name:"NestedInput",props:{ariaLabel:null,value:null,modelValue:null,fields:null,validationError:null},emits:["update:modelValue","input"],setup(n,{emit:a}){const e=n,{inputValue:t}=ue(e,a),l=Y({get:()=>{var s;return(s=t.value)==null?void 0:s.fields.parent},set:s=>{t.value&&(t.value.fields.parent=s)}}),o=Y({get:()=>{var s;return(s=t.value)==null?void 0:s.fields.child},set:s=>{t.value&&(t.value.fields.child=s)}});return(s,i)=>(w(),D("div",null,[(w(),de(ge,{id:n.fields.parent.name,key:n.fields.parent.name,class:"input-group__row__field",label:n.fields.parent.label,required:n.fields.parent.required},{default:se(()=>[te(Ee,{id:n.fields.parent.name,modelValue:I(l),"onUpdate:modelValue":i[0]||(i[0]=d=>ae(l)?l.value=d:null),attributes:n.fields.parent.inputAttributes,type:n.fields.parent.type},null,8,["id","modelValue","attributes","type"])]),_:1},8,["id","label","required"])),te(aa,{"aria-label":n.ariaLabel},{default:se(()=>[V("div",na,[(w(),de(ge,{id:n.fields.child.name,key:n.fields.child.name,class:"input-group__row__field",label:n.fields.child.label,required:n.fields.child.required},{default:se(()=>[te(Ee,{id:n.fields.child.name,modelValue:I(o),"onUpdate:modelValue":i[1]||(i[1]=d=>ae(o)?o.value=d:null),attributes:n.fields.child.inputAttributes,type:n.fields.child.type},null,8,["id","modelValue","attributes","type"])]),_:1},8,["id","label","required"]))])]),_:1},8,["aria-label"])]))}}),oa={key:0,class:"h-16 label-03-reg text-red-800"},sa={inheritAttrs:!1},Ee=B({...sa,__name:"InputElement",props:{id:null,type:{default:q.TEXT},modelValue:{default:void 0},attributes:null,validationError:{default:void 0},disableError:{type:Boolean,default:!1}},emits:["update:modelValue","update:validationError"],setup(n,{emit:a}){const e=n,t=ze(),l=Y(()=>({...e.attributes,...t})),o=Y(()=>{switch(e.type){case q.TEXT:return Ze;case q.FILE:return We;case q.DROPDOWN:return Jt;case q.DATE:return Je;case q.CUSTOMDATE:return Ut;case q.CHECKBOX:return tt;case q.CHIPS:return ct;case q.DATECHIPS:return Ft;case q.NESTED:return la;case q.COMBOBOX:return Et;default:throw new Error(`Unknown input type: ${e.type}`)}}),s=Y({get:()=>e.modelValue,set:r=>a("update:modelValue",r)}),i=y(e.validationError),d=Y({get:()=>e.validationError,set:r=>{i.value=r,a("update:validationError",r)}});return(r,f)=>{var h;return w(),D(J,null,[(w(),de(qe(I(o)),He({id:n.id,modelValue:I(s),"onUpdate:modelValue":f[0]||(f[0]=_=>ae(s)?s.value=_:null)},I(l),{"validation-error":I(d),"onUpdate:validationError":f[1]||(f[1]=_=>ae(d)?d.value=_:null)}),null,16,["id","modelValue","validation-error"])),n.disableError?oe("",!0):(w(),D("div",oa,Q((h=i.value)==null?void 0:h.defaultMessage),1))],64)}}});function va(n){function a(){setTimeout(()=>{if(n.value){const e=document.querySelector(n.value);e&&e.scrollIntoView({behavior:"smooth"})}})}$(n,a,{immediate:!0})}const ia=B({__name:"InputGroup",props:{fields:null,modelValue:null,columnCount:{default:1},validationErrors:{default:void 0}},emits:["update:modelValue"],setup(n,{emit:a}){const e=n,t="2rem",l={gap:t},o=Y(()=>({width:`calc((100% - ${t} * ${e.columnCount-1}) / ${e.columnCount})`})),s=Y(()=>{const{fields:d,columnCount:r}=e,f=[];for(let h=0;h<d.length;h+=r){const _=d.slice(h,h+r);f.push(_)}return f}),i=y({});return $(()=>e.modelValue,()=>i.value=e.modelValue?e.modelValue:{},{immediate:!0,deep:!0}),$(i,()=>{a("update:modelValue",i.value)},{deep:!0}),(d,r)=>(w(),D("div",{class:"input-group pb-[2rem]",style:l},[(w(!0),D(J,null,ne(I(s),(f,h)=>(w(),D("div",{key:h,class:"input-group__row",style:l},[(w(!0),D(J,null,ne(f,_=>(w(),de(ge,{id:_.name,key:_.name,class:"input-group__row__field",label:_.label,"label-position":_.inputAttributes.labelPosition,required:_.required,style:Ve(I(o))},{default:se(()=>[te(Ee,{id:_.name,modelValue:i.value[_.name],"onUpdate:modelValue":b=>i.value[_.name]=b,attributes:_.inputAttributes,type:_.type,"validation-error":e.validationErrors&&e.validationErrors.find(b=>b.field.split(".")[1]===_.name)},null,8,["id","modelValue","onUpdate:modelValue","attributes","type","validation-error"])]),_:2},1032,["id","label","label-position","required","style"]))),128))]))),128))]))}});const fa=Z(ia,[["__scopeId","data-v-94aacb5f"]]);export{tt as C,Je as D,fa as I,Ee as _,ct as a,Et as b,it as c,va as u};
