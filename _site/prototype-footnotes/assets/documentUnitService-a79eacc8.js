var h=Object.defineProperty;var m=(i,e,t)=>e in i?h(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var n=(i,e,t)=>(m(i,typeof e!="symbol"?e+"":e,t),t);import{d as f}from"./dayjs.min-633259b2.js";import{Z as s}from"./index-a65e9a75.js";const l=class{constructor(e={}){n(this,"uuid");n(this,"documentNumber");n(this,"dataSource");n(this,"court");n(this,"date");n(this,"fileNumber");n(this,"documentType");n(this,"dateKnown",!0);Object.assign(this,e)}get renderDecision(){var e;return[...this.court?[`${this.court.label}`]:[],...this.documentType?[(e=this.documentType)==null?void 0:e.jurisShortcut]:[],...this.dateUnknown===!0?["unbekanntes Entscheidungsdatum"]:[],...this.date?[f(this.date).format("DD.MM.YYYY")]:[],...this.fileNumber?[this.fileNumber]:[],...this.documentNumber&&this.hasLink?[this.documentNumber]:[]].join(", ")}get hasLink(){return this.dataSource!=="PROCEEDING_DECISION"}get dateUnknown(){return!this.dateKnown}set dateUnknown(e){this.dateKnown=!e}get missingRequiredFields(){return l.requiredFields.filter(e=>this.requiredFieldIsEmpty(e,this[e]))}requiredFieldIsEmpty(e,t){return e==="date"&&!t&&!this.dateKnown?!1:t===void 0||!t||t===null||t instanceof Array&&t.length===0?!0:typeof t=="object"&&"location"in t&&"type"in t?t.location===""&&t.type==="":!1}};let o=l;n(o,"requiredFields",["fileNumber","court","date"]);const a=class{constructor(e,t={}){n(this,"uuid");n(this,"id");n(this,"documentNumber");n(this,"creationtimestamp");n(this,"fileuploadtimestamp");n(this,"s3path");n(this,"filetype");n(this,"filename");n(this,"coreData",{});n(this,"texts",{});n(this,"proceedingDecisions");this.uuid=String(e);let c;for(c in t)t[c]===null&&delete t[c];let u;for(u in t.coreData)t.coreData&&t.coreData[u]===null&&delete t.coreData[u];let d;for(d in t.texts)t.texts&&t.texts[d]===null&&delete t.texts[d];t.proceedingDecisions&&(t.proceedingDecisions=t.proceedingDecisions.map(p=>new o({...p}))),Object.assign(this,t)}get hasFile(){return!!this.s3path}get missingRequiredFields(){return a.requiredFields.filter(e=>this.isEmpty(this.coreData[e]))}static isRequiredField(e){return a.requiredFields.some(t=>t===e)}isEmpty(e){return e===void 0||!e||e instanceof Array&&e.length===0?!0:typeof e=="object"&&"location"in e&&"type"in e?e.location===""&&e.type==="":!1}};let r=a;n(r,"requiredFields",["fileNumbers","court","decisionDate","legalEffect","documentType"]);const y={async getAllListEntries(i,e){const t=await s.get(`caselaw/documentunits?pg=${i}&sz=${e}`);return t.status>=300&&(t.error={title:"Dokumentationseinheiten konnten nicht geladen werden."}),t},async getByDocumentNumber(i){const e=await s.get(`caselaw/documentunits/${i}`);return e.status>=300||e.error?e.error={title:"Dokumentationseinheit konnten nicht geladen werden."}:e.data=new r(e.data.uuid,{...e.data}),e},async createNew(i,e){const t=await s.post("caselaw/documentunits",{headers:{Accept:"application/json","Content-Type":"application/json"}},JSON.stringify({documentationCenterAbbreviation:i,documentType:e}));return t.status>=300?t.error={title:"Neue Dokumentationseinheit konnte nicht erstellt werden."}:t.data=new r(t.data.uuid,{...t.data}),t},async update(i){const e=await s.put(`caselaw/documentunits/${i.uuid}`,{headers:{Accept:"application/json","Content-Type":"application/json"}},i);return e.status>=300?(e.error={title:"Dokumentationseinheit konnte nicht aktualisiert werden."},e.status==400&&JSON.stringify(e.data).includes("Validation failed")&&(e.error.validationErrors=e.data.errors)):e.data=new r(e.data.uuid,{...e.data}),e},async delete(i){const e=await s.delete(`caselaw/documentunits/${i}`);return e.status>=300&&(e.error={title:"Dokumentationseinheit konnte nicht gelöscht werden."}),e},async searchByProceedingDecisionInput(i){const e=await s.put("caselaw/documentunits/search",{headers:{Accept:"application/json","Content-Type":"application/json"}},i);return e.status>=300&&(e.error={title:"Die Suche nach passenden Dokumentationseinheit konnte nicht ausgeführt werden"}),{status:200,data:e.data.map(t=>new o({...t}))}}},k=y;export{r as D,o as P,k as d};
